-- Generated by Oracle SQL Developer Data Modeler 18.1.0.082.1035
--   at:        2018-06-05 22:12:15 EEST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g

CREATE TABLE assembly (
    assembly_id             INTEGER NOT NULL,
    power_block_serial_id   INTEGER NOT NULL,
    processor_serial_id     INTEGER NOT NULL
);

ALTER TABLE assembly ADD CONSTRAINT assemblyv1_pk PRIMARY KEY ( assembly_id );

CREATE TABLE computer (
    computer_id              INTEGER
        CONSTRAINT nnc_computer_uuid NOT NULL,
    rating                   INTEGER,
    assemblyv1_assembly_id   INTEGER NOT NULL
);

ALTER TABLE computer ADD CONSTRAINT computer_pk PRIMARY KEY ( computer_id );

CREATE TABLE detail (
    serial_id11    INTEGER NOT NULL,
    detail_name    VARCHAR2(20 CHAR) NOT NULL,
    manufacturer   VARCHAR2(20 CHAR)
);

ALTER TABLE detail ADD CONSTRAINT detail_pk PRIMARY KEY ( serial_id11 );

CREATE TABLE power_block (
    serial_id                 INTEGER NOT NULL,
    efficiency                INTEGER NOT NULL,
    power_block_power         INTEGER NOT NULL,
    power_factor_correction   INTEGER
);

ALTER TABLE power_block ADD CONSTRAINT power_block_pk PRIMARY KEY ( serial_id );

CREATE TABLE processor (
    serial_id      INTEGER NOT NULL,
    core_count     INTEGER NOT NULL,
    frequency      INTEGER,
    heat_release   INTEGER
);

ALTER TABLE processor ADD CONSTRAINT processor_pk PRIMARY KEY ( serial_id );

CREATE TABLE program (
    program_id        INTEGER NOT NULL,
    program_type      VARCHAR2(20 CHAR),
    program_name      VARCHAR2(20 CHAR) NOT NULL,
    program_version   FLOAT NOT NULL
);

ALTER TABLE program ADD CONSTRAINT program_pk PRIMARY KEY ( program_id );

CREATE TABLE relation_5 (
    computer_computer_id   INTEGER NOT NULL,
    program_program_id     INTEGER NOT NULL
);

ALTER TABLE relation_5 ADD CONSTRAINT relation_5_pk PRIMARY KEY ( computer_computer_id,
                                                                  program_program_id );

ALTER TABLE assembly
    ADD CONSTRAINT assemblyv1_power_block_fk FOREIGN KEY ( power_block_serial_id )
        REFERENCES power_block ( serial_id );

ALTER TABLE assembly
    ADD CONSTRAINT assemblyv1_processor_fk FOREIGN KEY ( processor_serial_id )
        REFERENCES processor ( serial_id );

ALTER TABLE computer
    ADD CONSTRAINT computer_assemblyv1_fk FOREIGN KEY ( assemblyv1_assembly_id )
        REFERENCES assembly ( assembly_id );

ALTER TABLE detail
    ADD CONSTRAINT detail_power_block_fk FOREIGN KEY ( serial_id11 )
        REFERENCES power_block ( serial_id );

ALTER TABLE detail
    ADD CONSTRAINT detail_processor_fk FOREIGN KEY ( serial_id11 )
        REFERENCES processor ( serial_id );

ALTER TABLE relation_5
    ADD CONSTRAINT relation_5_computer_fk FOREIGN KEY ( computer_computer_id )
        REFERENCES computer ( computer_id );

ALTER TABLE relation_5
    ADD CONSTRAINT relation_5_program_fk FOREIGN KEY ( program_program_id )
        REFERENCES program ( program_id );
  
INSERT INTO power_block values (1,15,3,4);
INSERT INTO power_block values (2,12,2,3);
INSERT INTO power_block values (3,18,5,6);

INSERT INTO processor values (1,100,5,3);
INSERT INTO processor values (2,50,12,5);
INSERT INTO processor values (3,12,7,6);

INSERT INTO detail values (1,'empty','empty');
INSERT INTO detail values (2,'detail1','manuf1');
INSERT INTO detail values (3,'detail2','manuf2');

INSERT INTO assembly values (1,1,3);
INSERT INTO assembly values (2,2,2);
INSERT INTO assembly values (3,2,1);

INSERT INTO computer values (1,10,3);
INSERT INTO computer values (2,7,1);
INSERT INTO computer values (3,3,3);

INSERT INTO program values (1,'type1','name1',1);
INSERT INTO program values (2,'type2','name2',1.0);
INSERT INTO program values (3,'type3','name3',1.01);

INSERT INTO RELATION_5 values (3,2);
INSERT INTO RELATION_5 values (2,1);
INSERT INTO RELATION_5 values (1,3);